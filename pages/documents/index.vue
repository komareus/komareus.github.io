<template>
  <v-container>
    <page-title>
      Документи
    </page-title>
    <v-layout justify-center mt-4>
      <!--<h1>Сторінка в стадії розробки</h1>-->
      <documents-navigation-cards
        :list="mainChapters"
      ></documents-navigation-cards>
    </v-layout>
  </v-container>
</template>

<script>
import { mapGetters, mapActions } from 'vuex';
import PageTitle from '~/components/shared/PageTitle'
import DocumentsNavigationCards from '~/components/documents/DocumentsNavigationCards'
import chapters from '~/utils/configs/documentsChapters.js'
export default {
  name: 'documents',
  components: { DocumentsNavigationCards, PageTitle },
  data() {
    return {
      mainChapters: [
        {
          title: 'Правління',
          child: [
            chapters['directors-statutory'],
            chapters['directors-agreements'],
            chapters['directors-letters'],
            chapters['directors-protocols'],
            chapters['directors-other']
          ],
        },
        {
          title: 'Наглядова рада',
          child: [
            chapters['supervisory-protocols'],
            chapters['supervisory-letters'],
            chapters['supervisory-other']
          ],
        },
        {
          title: 'Ревізійна комісія',
          child: [
            chapters['revision-reports'],
            chapters['revision-protocols'],
            chapters['revision-other']
          ],
        },
        {
          title: 'Загальні документи',
          child: [
            chapters['other']
          ],
        }
      ]
    }
  },
  // asyncData: async ({ app, $axios }) => {
  //   // console.log('payload', payload)
  //   let page = {};
  //   let testJson = null
  //   try {
  //     // page = await app.$content("/documents").getAll()
  //     // testJson = await $axios.get('https://bestkolobok.github.io/content/documents/2019-06-24-test-json.json')
  //     console.log('testJson', testJson)
  //   } catch (err) {
  //     console.error('ERROR testJson', err)
  //     page = {}
  //   }
  //   return {
  //     page,
  //     testJson
  //   };
  // },
  mounted() {
    // this.getContent();
    // console.log('getContent', this.page)
  },
  methods: {
    ...mapActions({
      fetchDocuments: 'documents/fetchDocuments',
    }),
    async getDocuments() {
      try {
        await this.fetchDocuments()
      } catch (err) {
        console.error('ERROR testJson', err)
      }
    },
    // async getContent() {
    //   const content = await this.$content("/pages").get('/test1')
    //   console.log('getContent', content)
    // }
  },
  computed: {
    ...mapGetters({
      // stateDocuments: 'documents/getDocuments',
      // getLoader: 'getLoader',
    }),
  }
}
</script>

<style scoped>

</style>
